%%=============================================================================
%% Value Objects
%%=============================================================================

\section{Value Objects}
\label{sec:value-objects}

Value objects zijn objecten die zorgen dat een bepaalde waarde altijd in een geldige staat is. Bijvoorbeeld, er kan een value object zijn voor een e-mail. Dit e-mailadres moet ten alle tijde geldig zijn. Dit kan afgedwongen worden door in de constructor van een klasse een waarde te ontvangen en deze te controleren. Indien deze waarde fout is, wordt er een exceptie gegooid. Deze exceptie zal dan opgevangen worden in de lagen daarboven.

Een belangrijke regel bij Value objects is dat deze geen identiteit bevatten, ze hebben geen unieke identifier en zijn daarom geen entiteit. Value objects kunnen wel tot een entiteit behoren zoals bijvoorbeeld een User entiteit (\textcite{Verraes2015ValueObjects}, \textcite{Claes2013Identity}).

Value objects bevatten meestal ook bepaalde logica of methoden die met dat object gepaard gaan. Het doel van Value objects is om een type te geven aan een bepaalde waarde.

Value objects geven ook betekenis aan de code. In het volgende code voorbeeld is het niet meteen duidelijk welke parameter de verzender is, en welke de ontvanger is. Een mogelijke oplossing is goede namen geven aan de parameters.

\codefragment{source/ValueObjects-BadExample.java}{Een minder goed voorbeeld van Value Objects}

Wanneer er nu een AddAppointment object gemaakt wordt, bestaat er nog steeds het gevaar de agent en de klant om te draaien. Als we geldige strings gebruiken, zal de code geen exceptie gooien en zit er een bug in het systeem.

Dit probleem kan opgelost worden door Value objects te gebruiken. Bij het verwisselen van de parameters zal er een exceptie gegooid worden omdat de types niet overeen komen.

\codefragment{source/ValueObjects-GoodExample.java}{Een voorbeeld van Value Objects}
